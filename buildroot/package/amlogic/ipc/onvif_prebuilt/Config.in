config BR2_PACKAGE_ONVIF_PREBUILT
	bool "Apply/Generate ONVIF prebuilt"
	help
	  Apply/Generate ONVIF prebuilt package

if BR2_PACKAGE_ONVIF_PREBUILT

config ONVIF_PREBUILT_LEGACY
	bool "ONVIF prebuilt for legacy IPC Pipeline"
    default y if !BR2_PACKAGE_IPC_REFAPP

config BR2_PACKAGE_ONVIF_APPLY_PREBUILT
	bool "Apply ONVIF prebuilt"
    depends on !BR2_PACKAGE_ONVIF_SRVD

    #When enable prebuilt, we will not build ONVIF_SRVD, ONVIF_WSDD, ONVIF_RTSP, so we must select all these pacakge's dependent packages

    #Package for ONVIF_SRVD
    select BR2_PACKAGE_FFMPEG

    #Package for ONVIF_WSDD
    select BR2_PACKAGE_OPENSSL
    select BR2_PACKAGE_ZLIB

    #Package for IPC-WebUI
	select BR2_PACKAGE_GETTEXT
	select BR2_SYSTEM_ENABLE_NLS
	select BR2_PACKAGE_NGINX
	select BR2_PACKAGE_PHP
	select BR2_PACKAGE_PHP_SAPI_CGI
	select BR2_PACKAGE_PHP_SAPI_FPM
	select BR2_PACKAGE_PHP_EXT_SQLITE
	select BR2_PACKAGE_PHP_EXT_JSON
	select BR2_PACKAGE_PHP_EXT_GETTEXT
	select BR2_PACKAGE_IPC_SYSTEM_SERVICE

    #Package for ONVIF_RTSP only used in legacy pipeline
	select BR2_PACKAGE_LIBWEBSOCKETS                            if ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_SQLITE                                   if ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_PULSEAUDIO                               if ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_CA_CERTIFICATES                          if ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_GSTREAMER1                               if ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_GST1_RTSP_SERVER                         if ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_GST1_LIBAV                               if ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_GST1_PLUGINS_BASE_PLUGIN_ALSA            if ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_GST1_PLUGINS_BASE_PLUGIN_AUDIOTESTSRC    if ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_GST1_PLUGINS_BASE_PLUGIN_VIDEORATE       if ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_GST1_PLUGINS_GOOD                        if ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_GST1_PLUGINS_GOOD_PLUGIN_V4L2            if ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_GST1_PLUGINS_GOOD_PLUGIN_LAW             if ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_GST1_PLUGINS_GOOD_PLUGIN_LAME            if ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_GST1_PLUGINS_BAD                         if ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_GST1_PLUGINS_BAD_PLUGIN_MPEGTSMUX        if ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_LIBVPCODEC if BR2_PACKAGE_AML_SOC_FAMILY_NAME != "C1" && ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_LIBVPHEVCODEC if BR2_PACKAGE_AML_SOC_FAMILY_NAME != "C1" && ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_LIBMULTIENC if BR2_PACKAGE_AML_SOC_FAMILY_NAME = "C1" && ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_AML_NN_DETECT                            if ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_AML_LIBGE2D                              if ONVIF_PREBUILT_LEGACY
	select BR2_PACKAGE_AML_LIBGDC                               if ONVIF_PREBUILT_LEGACY

	help
	  Use ONVIF prebuilt package

config BR2_PACKAGE_ONVIF_GENERATE_PREBUILT
	bool "Generate ONVIF prebuilt"
    depends on BR2_PACKAGE_ONVIF_SRVD
    depends on ((BR2_PACKAGE_ONVIF_RTSP && ONVIF_PREBUILT_LEGACY) || ! ONVIF_PREBUILT_LEGACY)
    depends on BR2_PACKAGE_IPC_WEBUI

	help
	  Generate ONVIF prebuilt package
endif
